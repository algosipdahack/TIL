### 낙관락 vs 비관락
- 낙관락이 성능적으로 좋다.
  - 비관락은 Lock을 걸어버리기 때문
  - 따라서 낙관락은 충돌이 많이 발생하지 않을 것이라 예상되는 곳에서 사용하면 좋은 성능을 낸다.
- 롤백
  - 낙관락은 직접 롤백시켜줘야 한다.
  - 비관락은 트랜잭션만 롤백시켜주면 자동으로 된다.

### 낙관락/비관락 vs 분산락
- 분산 서버 + 싱글 DB
  - 낙관적 락/비관적 락/분산 락 사용가능
  - 보통 제일 유연한 낙관적 락 사용
  - 데드락이 발생하는 경우 비관적 락으로 해결
- 분산 서버 + 분산 DB
  - 분산락 사용

낙관락/비관락 
- 특정 엔티티에 대한 동시 접근 제어
- 이미 존재하는 엔티티에 동시접근하는 상황을 해결

분산락
BUT, 분산락 -> 엔티티의 생성 개수 제한에서의 문제 발생
- redis의 분산락은 일관성을 보장하지 못함



- 만약 충돌이 1년에 1~2건 일어날 정도로 작다면 redis도입보다는 낙관적 락이 효율적
- redis운영 비용이 들기때문



### Reference
---
https://hudi.blog/distributed-lock-with-redis/
https://velog.io/@znftm97/%EB%8F%99%EC%8B%9C%EC%84%B1-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0%ED%95%98%EA%B8%B0-V3-%EB%B6%84%EC%82%B0-DB-%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C-%EB%B6%84%EC%82%B0-%EB%9D%BDDistributed-Lock-%ED%99%9C%EC%9A%A9